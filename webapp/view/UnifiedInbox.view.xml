<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="oneapp.incture.workbox.controller.UnifiedInbox"
	xmlns:html="http://www.w3.org/1999/xhtml" xmlns:fb="sap.ui.comp.filterbar">
	<Page showHeader="false" showFooter="{oAppModel>/pagination/pageVisible}" class="wbInboxPage">
		<content>
			<HBox renderType="Bare" alignItems="Center" class="sapUiSizeCompact wbInboxFilterContClass" justifyContent="SpaceBetween">
				<HBox renderType="Bare" class="sapUiSmallMarginBegin wbInboxFilterClass" alignItems="Center">
					<CheckBox class="wbInboxCheckBoxAlign" select="onSelectStdCheckBox" selected="{oTaskInboxModel>/checkBoxState}"
						visible="{= ${oAppModel>/currentViewPage} === 'CompletedTasks' || ${oAppModel>/currentViewPage} === 'RequestorCompletedTasks' || ${oAppModel>/WB_TASK_BOARD_VIEW} || ${oAppModel>/WB_CALENDAR_VIEW} ? false : true}"/>
				</HBox>
				<HBox width="{= ${oAppModel>/WB_TABLE_VIEW} === true ? '18.25rem' : '16rem'}" renderType="Bare" class="wbInboxFilterClass"
					justifyContent="SpaceBetween">
					<Button icon="sap-icon://customfont/TableSettings" press="onClickTableSettings" visible="{oAppModel>/WB_TABLE_VIEW}"
						tooltip="{i18n>TABLE_SETTINGS_TEXT}" class="wbTransparentButtonStyleClass" type="Transparent"/>
					<Button text="{i18n>REFRESH_TEXT}" type="Transparent" class="wbTransparentButtonStyleClass" press="refreshInboxFn"/>
					<Button text="{i18n>FILTERS_TEXT}" press="onFiltersBtnPress" type="Transparent" class="wbTransparentButtonStyleClass"/>
					<HBox renderType="Bare" alignItems="Center" class="sapUiSmallMarginEnd">
						<SegmentedButton class="wbCustomSegmentedButtonClass" selectionChange="onTaskViewChange" selectedKey="{oAppModel>/selectedInboxView}">
							<items>
								<SegmentedButtonItem key="WB_CARD_VIEW" icon="sap-icon://list" tooltip="{i18n>CARD_VIEW_TEXT}"/>
								<SegmentedButtonItem key="WB_TABLE_VIEW" icon="sap-icon://table-view" tooltip="{i18n>TABLE_VIEW_TEXT}"/>
								<SegmentedButtonItem key="WB_TASK_BOARD_VIEW" icon="sap-icon://task" tooltip="{i18n>TASK_BOARD_VIEW_TITLE}"/>
								<SegmentedButtonItem key="WB_CALENDAR_VIEW" icon="sap-icon://appointment-2" tooltip="{i18n>CALENDAR_VIEW_TEXT}"
									enabled="{= ${oAppModel>/currentViewPage} === 'Draft' ? false : true}"/>
							</items>
						</SegmentedButton>
					</HBox>
				</HBox>
			</HBox>
			<IconTabBar class="wbInboxIconTabBackground" selectedKey="{oAppModel>/inboxType}" expandable="false"
				visible="{= ${oAppModel>/currentView} === 'unifiedInbox' ? true : false}" select="onViewChange">
				<items>
					<IconTabFilter key="MyInbox"
						text='{parts:["oAppModel>/currentViewPageName", "oAppModel>/inboxType", "oTaskInboxModel>/count", "oAppModel>/WB_TASK_BOARD_VIEW"], formatter:"oneapp.incture.workbox.util.formatter.wbInboxTitleCount"}'></IconTabFilter>
					<!--<IconTabFilter key="MyInbox"
						text="{i18n>PINNED_TASKS_TEXT}"></IconTabFilter>-->
					<IconTabFilter key="PinnedTasks" visible="{= ${oAppModel>/currentViewPage} === 'MyInbox' &amp;&amp; ${oAppModel>/isViewApplied} !== true}"
						text='{parts:["oAppModel>/inboxType", "oTaskInboxModel>/count"], formatter:"oneapp.incture.workbox.util.formatter.wbPinnedTasksText"}'></IconTabFilter>
				</items>
			</IconTabBar>
			<HBox height="{= ${oAppModel>/pagination/pageVisible}===true ? '85%':'92.3%'}">
				<VBox width="100%" class="sapUiTinyMarginTopBottom wbOverflowVertical">
					<HBox width="{= ${oAppModel>/isRightPaneVisible} === true ? '100%' : '100%' }" visible="{oAppModel>/WB_CARD_VIEW}">
						<core:Fragment fragmentName="oneapp.incture.workbox.fragment.TaskCardView" type="XML"></core:Fragment>
					</HBox>
					<HBox width="{= ${oAppModel>/isRightPaneVisible} === true ? '100%' : '100%' }" visible="{oAppModel>/WB_TABLE_VIEW}">
						<core:Fragment fragmentName="oneapp.incture.workbox.fragment.TaskTableView" type="XML"></core:Fragment>
					</HBox>
					<HBox renderType="Bare" alignItems="Center" visible="{oAppModel>/WB_TASK_BOARD_VIEW}" height="100%">
						<core:Fragment fragmentName="oneapp.incture.workbox.fragment.TaskBoardView" type="XML"></core:Fragment>
					</HBox>
					<HBox width="{= ${oAppModel>/isRightPaneVisible} === true ? '100%' : '100%' }" visible="{oAppModel>/WB_CALENDAR_VIEW}">
						<core:Fragment fragmentName="oneapp.incture.workbox.fragment.CalendarView" type="XML"></core:Fragment>
					</HBox>
				</VBox>
				<HBox height="auto" class="wbRightPaneFrag" visible="{oAppModel>/isTaskLevelChatVisible}"
					width="{= ${oAppModel>/isRightPaneVisible} === true ? '24.2%' : '0' }">
					<core:Fragment fragmentName="oneapp.incture.workbox.fragment.TaskLevelChat" type="XML"/>
				</HBox>
				<HBox height="auto" class="wbRightPaneFrag" visible="{oAppModel>/isTaskLevelChatBotVisible}"
					width="{= ${oAppModel>/isRightPaneVisible} === true ? '24.2%' : '0' }">
					<core:Fragment fragmentName="oneapp.incture.workbox.fragment.ChatBot" type="XML"/>
				</HBox>
				<HBox height="auto" class="wbRightPaneFrag" visible="{oAppModel>/isProcessFlowVisible}"
					width="{= ${oAppModel>/isRightPaneVisible} === true ? '24.2%' : '0' }">
					<core:Fragment fragmentName="oneapp.incture.workbox.fragment.ProcessStory" type="XML"/>
				</HBox>
			</HBox>
		</content>
		<footer>
			<OverflowToolbar height="39px">
				<Label text="{i18n>PAGE_TEXT} {oAppModel>/currentPage} {i18n>OF_TEXT} {oAppModel>/pagination/numberOfPages}" textDirection="RTL"/>
				<ToolbarSpacer/>
				<Label
					text="{i18n>SELECTED_TEXT} {path :'oAppModel>/selectedTasksArray',formatter:'oneapp.incture.workbox.util.formatter.wbGetSelectedTasksNumber'} {i18n>OF_TEXT} {oTaskInboxModel>/count}"
					visible="{= ${path :'oAppModel>/selectedTasksArray',formatter:'oneapp.incture.workbox.util.formatter.wbGetSelectedTasksNumber'} === 0 ? false : true}"/>
				<ToolbarSpacer/>
				<HBox renderType="Bare" alignItems="Center" class="wbInboxPaginationClass">
					<Button icon="sap-icon://nav-back" enabled="{oAppModel>/pagination/pagePrevVisible}" class="wbInboxPaginationLinkClass" press="onScrollLeft"/>
					<HBox renderType="Bare" alignItems="Center" items="{oAppModel>/pagination/pages}"
						visible='{parts:["oAppModel>/pagination/pages", "oAppModel>/pagination/taskBoardPages", "oAppModel>/WB_TASK_BOARD_VIEW"], formatter:"oneapp.incture.workbox.util.formatter.wbSetPaginationItems"}'>
						<Link
							text='{parts:["oAppModel>page", "oAppModel>/currentPage", "oAppModel>/currentPageTray", "oAppModel>/WB_TASK_BOARD_VIEW"], formatter:"oneapp.incture.workbox.util.formatter.wbSetLinkStyleClass"}'
							press="onPageClick" class="wbInboxPaginationLinkColor"/>
					</HBox>
					<Button icon="sap-icon://navigation-right-arrow" enabled="{oAppModel>/pagination/pageNextVisible}" class="wbInboxPaginationLinkClass"
						press="onScrollRight"/>
				</HBox>
			</OverflowToolbar>
		</footer>
	</Page>
</mvc:View>